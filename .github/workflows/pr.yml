name: Scaffold PRs

on:
  [
    pull_request,
    pull_request_review_comment,
    pull_request_review,
    pull_request_target,
  ]

jobs:
  request:
    name: Request reviews on PRs
    runs-on: ubuntu-20.04
    if: github.event.pull_request.head.repo.full_name == 'FindShelter/test_playaround'

    steps:
      - name: Dump GitHub context
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: echo "$GITHUB_CONTEXT"

      - name: Add Reviewers
        uses: shreystechtips/add-reviewers@main
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          reviewers: shreystechtips

      - name: Use GH CLI
        run: |
          gh auth login --with-token ${{ secrets.GITHUB_TOKEN }}
          gh pr edit 1 --add-reviewer shreystechtips  --add-assignee shreystechtips

      - name: Label the PR
        uses: andymckay/labeler@1.0.4
        with:
          add-labels: "cool"
